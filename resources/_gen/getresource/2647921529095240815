HTTP/2.0 200 OK
Accept-Ranges: bytes
Age: 25849
Cache-Control: public,max-age=0,must-revalidate
Cache-Status: "Netlify Edge"; hit
Content-Type: text/html; charset=UTF-8
Date: Tue, 12 Nov 2024 18:11:55 GMT
Etag: "e72a77a678176809020eb01407c90f0b-ssl-df"
Server: Netlify
Strict-Transport-Security: max-age=31536000
Vary: Accept-Encoding
X-Etags-1: "e72a77a678176809020eb01407c90f0b-ssl-df"
X-Etags-2: "e72a77a678176809020eb01407c90f0b-ssl-df"
X-Nf-Request-Id: 01JCGS6CRMEP4P7WJ7QCR136S6

<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Introduction</title>
    <meta name="generator" content="Hugo 0.85.0" />

    
    <meta name="description" content="A portal on this practice">
    
    <link rel="canonical" href="https://trunkbaseddevelopment.com/">
    
    <meta name="author" content="paul-hammant">
    

    <meta property="og:url" content="https://trunkbaseddevelopment.com/">
    <meta property="og:title" content="Trunk Based Development">
    <meta property="og:image" content="https://trunkbaseddevelopment.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Trunk Based Development">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://trunkbaseddevelopment.com/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://trunkbaseddevelopment.com/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://trunkbaseddevelopment.com/fonts/icon.eot');
        src: url('https://trunkbaseddevelopment.com/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://trunkbaseddevelopment.com/fonts/icon.woff')
               format('woff'),
             url('https://trunkbaseddevelopment.com/fonts/icon.ttf')
               format('truetype'),
             url('https://trunkbaseddevelopment.com/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://trunkbaseddevelopment.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://trunkbaseddevelopment.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://trunkbaseddevelopment.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://trunkbaseddevelopment.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://trunkbaseddevelopment.com/javascripts/modernizr.js"></script>

    
    <link href="https://trunkbaseddevelopment.com/index.xml" rel="alternate" type="application/rss+xml" title="Trunk Based Development" />
    <link href="https://trunkbaseddevelopment.com/index.xml" rel="feed" type="application/rss+xml" title="Trunk Based Development" />
    

  </head>
  <body class="palette-primary-blue palette-accent-light-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Trunk Based Development: Introduction
      </div>
    </div>

    

        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <div class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://trunkbaseddevelopment.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Trunk Based Development</strong>
      </div>
    </div>
  </div>

  <div class="scrollable">
    <div class="wrapper">
      <hr>

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a class="current" title="Introduction" href="https://trunkbaseddevelopment.com/">
	
	Introduction
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Context" href="https://trunkbaseddevelopment.com/context/">
	
	Context
</a>



  
</li>



<li>
  
    



<a  title="Five-minute overview" href="https://trunkbaseddevelopment.com/5-min-overview/">
	
	Five-minute overview
</a>



  
</li>



<li>
  
    



<a  title="Deciding factors" href="https://trunkbaseddevelopment.com/deciding-factors/">
	
	Deciding factors
</a>



  
</li>



<li>
  
    



<a  title="Version control system features" href="https://trunkbaseddevelopment.com/vcs-features/">
	
	Version control system features
</a>



  
</li>



<li>
  
    



<a  title="Version control system choices" href="https://trunkbaseddevelopment.com/vcs-choices/">
	
	Version control system choices
</a>



  
</li>



<li>
  
    



<a  title="Feature flags" href="https://trunkbaseddevelopment.com/feature-flags/">
	
	Feature flags
</a>



  
</li>



<li>
  
    



<a  title="Branch by Abstraction" href="https://trunkbaseddevelopment.com/branch-by-abstraction/">
	
	Branch by Abstraction
</a>



  
</li>



<li>
  
    



<a  title="Branch for release" href="https://trunkbaseddevelopment.com/branch-for-release/">
	
	Branch for release
</a>



  
</li>



<li>
  
    



<a  title="Release from trunk" href="https://trunkbaseddevelopment.com/release-from-trunk/">
	
	Release from trunk
</a>



  
</li>



<li>
  
    



<a  title="Styles and Trade-offs" href="https://trunkbaseddevelopment.com/styles/">
	
	Styles and Trade-offs
</a>



  
</li>



<li>
  
    



<a  title="Continuous Integration (CI)" href="https://trunkbaseddevelopment.com/continuous-integration/">
	
	Continuous Integration (CI)
</a>



  
</li>



<li>
  
    



<a  title="Committing straight to the trunk" href="https://trunkbaseddevelopment.com/committing-straight-to-the-trunk/">
	
	Committing straight to the trunk
</a>



  
</li>



<li>
  
    



<a  title="Short Lived Feature Branches" href="https://trunkbaseddevelopment.com/short-lived-feature-branches/">
	
	Short Lived Feature Branches
</a>



  
</li>



<li>
  
    



<a  title="Continuous Code Review" href="https://trunkbaseddevelopment.com/continuous-review/">
	
	Continuous Code Review
</a>



  
</li>



<li>
  
    



<a  title="Continuous Delivery (CD)" href="https://trunkbaseddevelopment.com/continuous-delivery/">
	
	Continuous Delivery (CD)
</a>



  
</li>



<li>
  
    



<a  title="Concurrent development of consecutive releases" href="https://trunkbaseddevelopment.com/concurrent-development-of-consecutive-releases/">
	
	Concurrent development of consecutive releases
</a>



  
</li>



<li>
  
    



<a  title="Application strangulation" href="https://trunkbaseddevelopment.com/strangulation/">
	
	Application strangulation
</a>



  
</li>



<li>
  
    



<a  title="Observed habits" href="https://trunkbaseddevelopment.com/observed-habits/">
	
	Observed habits
</a>



  
</li>



<li>
  
    



<a  title="You&#39;re doing it wrong" href="https://trunkbaseddevelopment.com/youre-doing-it-wrong/">
	
	You&#39;re doing it wrong
</a>



  
</li>



<li>
  
    



<a  title="Alternative branching models" href="https://trunkbaseddevelopment.com/alternative-branching-models/">
	
	Alternative branching models
</a>



  
</li>



<li>
  
    



<a  title="Monorepos" href="https://trunkbaseddevelopment.com/monorepos/">
	
	Monorepos
</a>



  
</li>



<li>
  
    



<a  title="Expanding Contracting Monorepos" href="https://trunkbaseddevelopment.com/expanding-contracting-monorepos/">
	
	Expanding Contracting Monorepos
</a>



  
</li>



<li>
  
    



<a  title="Game Changers" href="https://trunkbaseddevelopment.com/game-changers/">
	
	Game Changers
</a>



  
</li>



<li>
  
    



<a  title="Publications" href="https://trunkbaseddevelopment.com/publications/">
	
	Publications
</a>



  
</li>



<li>
  
    



<a  title="Book on this topic" href="https://trunkbaseddevelopment.com/book/">
	
	Book on this topic
</a>



  
</li>



<li>
  
    



<a  title="Key to branch diagrams" href="https://trunkbaseddevelopment.com/key/">
	
	Key to branch diagrams
</a>



  
</li>



<li>
  
    



<a  title="Contributions" href="https://trunkbaseddevelopment.com/contributions/">
	
	Contributions
</a>



  
</li>


        </ul>
        

        
        <hr>

        <ul>

          <li>
            <a href="https://github.com/paul-hammant/tbd" target="_blank" title="See GitHub Repo">
              Site Source on GitHub
            </a>
          </li>

          <li>
            <a href="https://github.com/paul-hammant/tbd/commit/60ba78bf647a7234f544fd48346b6e94fbce3a78" target="_blank">
              SHA-1 Published: 60ba78bf647a7234f544fd48346b6e94fbce3a78
            </a>
          </li>
          </li>
<iframe id="buy" width='160' height='400' src='https://leanpub.com/trunk-based-development/embed' frameborder='0' allowtransparency='true'></iframe>
          <li>
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			
				<h1>Introduction </h1>

				<h2 id="one-line-summary">One line summary</h2>
<p>A source-control branching model, where developers collaborate on code in a single branch called &lsquo;trunk&rsquo; *,
resist any pressure to create other long-lived development branches by employing documented techniques. They
therefore avoid merge hell, do not break the build, and live happily ever after.</p>
<p>* <em>main</em> for the Git community since 2020 (<code>master</code> with unsavory connotations before)</p>
<h2 id="shared-branches-off-mainlinemaintrunk-are-bad-at-any-release-cadence">Shared branches off mainline/main/trunk are bad at any release cadence:</h2>
<p><img src="trunk1a.png" alt=""></p>
<h2 id="trunk-based-development-for-smaller-teams">Trunk-Based Development For Smaller Teams:</h2>
<p><img src="trunk1b.png" alt=""></p>
<h2 id="scaled-trunk-based-development">Scaled Trunk-Based Development:</h2>
<p><img src="trunk1c.png" alt=""></p>
<h2 id="elaboration-claims-and-caveats">Elaboration, Claims and Caveats</h2>
<p><img src="ix_key.png" alt=""></p>
<p>Trunk-Based Development is a key enabler of <a href="https://trunkbaseddevelopment.com/continuous-integration/">Continuous Integration</a> and by extension
<a href="https://trunkbaseddevelopment.com/continuous-delivery/">Continuous Delivery</a>. When individuals on a team are committing their changes to the trunk
multiple times a day it becomes easy to satisfy the core requirement of Continuous Integration that all team
members commit to trunk at least once every 24 hours. This ensures the codebase is always releasable on demand
and helps to make Continuous Delivery a reality.</p>
<p>The dividing line between small team Trunk-Based Development and scaled Trunk-Based Development is a subject to team size and commit rate consideration. The precise moment a dev team is no longer &ldquo;small&rdquo; and has transitioned to &ldquo;scaled&rdquo; is subject to practitioner debate.  Regardless, teams perform a full &ldquo;pre integrate&rdquo; build (compile, unit tests, integration tests) on their dev workstations before committing/pushing for others (or bots) to see.</p>
<h3 id="claims">Claims</h3>
<ul>
<li>You should do Trunk-Based Development instead of GitFlow and other branching models that feature multiple long-running branches</li>
<li>You can either do a direct to trunk commit/push (v small teams) or a Pull-Request workflow as long as those feature branches
are short-lived and the product of a single person.</li>
</ul>
<h3 id="caveats">Caveats</h3>
<ul>
<li>
<p>Depending on the team size, and the rate of commits,
<a href="https://trunkbaseddevelopment.com/short-lived-feature-branches/">short-lived feature branches</a> are used for
code-review and build checking (CI), but not artifact creation or publication, to happen before commits land in the trunk for other developers to depend on.
Such branches allow developers to engage in <a href="https://trunkbaseddevelopment.com/continuous-review/">eager and continuous code review</a> of contributions
before their code is integrated into the trunk. Very small teams may <a href="https://trunkbaseddevelopment.com/committing-straight-to-the-trunk/">commit direct to the trunk</a>.</p>
</li>
<li>
<p>Depending on the intended release cadence, there may be <a href="https://trunkbaseddevelopment.com/branch-for-release/">release branches</a> that are cut from the trunk on
a just-in-time basis, are &lsquo;hardened&rsquo; before a release (without that being a team activity), and <strong>those branches are deleted</strong> some time after release. Alternatively, there
may also be no release branches if the team is <a href="https://trunkbaseddevelopment.com/release-from-trunk/">releasing from Trunk</a>, and choosing a &ldquo;fix
forward&rdquo; strategy for bug fixes. Releasing from trunk is also for high-throughput teams, too.</p>
</li>
<li>
<p>Teams should become adept with the related <a href="https://trunkbaseddevelopment.com/branch-by-abstraction/">branch by abstraction</a> technique for longer
to achieve changes, and use <a href="https://trunkbaseddevelopment.com/feature-flags/">feature flags</a> in day to day development to allow for hedging on
the order of releases (and other good things - see <a href="https://trunkbaseddevelopment.com/concurrent-development-of-consecutive-releases/">concurrent development of consecutive releases</a>)</p>
</li>
<li>
<p>If you have more than a couple of developers on the project, you are going to need to hook up a
<a href="https://trunkbaseddevelopment.com/continuous-integration/">build server</a> to verify that their commits have <strong>not broken the build</strong>
after they land in the trunk, and also when they are ready to be merged back into the trunk from a
short-lived feature branch.</p>
</li>
<li>
<p>Development teams can casually flex up or down in size (in the trunk) without affecting throughput or quality.
Proof? <a href='https://trunkbaseddevelopment.com/game-changers/#google-revealing-their-monorepo-trunk-2016'>Google does Trunk-Based Development</a> and
have <strong>35000 developers and QA automators</strong> in that single <a href="https://trunkbaseddevelopment.com/monorepos/">monorepo</a> trunk, that in their case can
<a href="https://trunkbaseddevelopment.com/expanding-contracting-monorepos/">expand or contract</a> to suit the developer in question.</p>
</li>
<li>
<p>People who practice the <a href='https://trunkbaseddevelopment.com/alternative-branching-models/#modern-claimed-high-throughput-branching-models'>GitHub-flow branching model</a> will feel
that this is quite similar, but there is one small difference around where to release from.</p>
</li>
<li>
<p>People who practice the Gitflow branching model will find this <strong>very different</strong>, as will many developers used to
the popular ClearCase, Subversion, Perforce, StarTeam, VCS <a href='https://trunkbaseddevelopment.com/alternative-branching-models/#legacy-branching-models'>branching models of the past</a>.</p>
</li>
<li>
<p><a href="https://trunkbaseddevelopment.com/publications/">Many publications</a> promote Trunk-Based Development as we describe it here. Those include the best-selling &lsquo;Continuous Delivery&rsquo; and &lsquo;DevOps Handbook&rsquo;. This should not even be controversial anymore!</p>
</li>
</ul>
<h2 id="history">History</h2>
<p>Trunk-Based Development is not a new branching model. The word &lsquo;trunk&rsquo; is referent to the concept of a growing tree,
where the fattest and longest span is the trunk, not the branches that radiate from it and are of more limited length.</p>
<p>It has been a lesser known branching model of choice since the mid-nineties and considered tactically since the eighties.
The largest of development organizations, like Google (as mentioned) and Facebook practice it at scale.</p>
<p>Over 30 years different <a href="https://trunkbaseddevelopment.com/game-changers/">advances to source-control technologies and related tools/techniques</a> have made
Trunk-Based Development more (and occasionally less) prevalent, but it has been a branching model that many have stuck
with through the years.</p>
<h2 id="this-site">This site</h2>
<p>This site attempts to collect all the related facts, rationale and techniques for Trunk-Based Development together
in one place, complete with twenty-five diagrams to help explain things. All without using TBD as an acronym
even <del>once</del> twice.</p>

			

			<aside class="copyright" role="note">
				&copy; 2017-2020: <a href="https://phdo.paulhammant.com/">Paul Hammant</a>, with contributions from <a href="https://trunkbaseddevelopment.com/contributions/">friends</a>.
				Site built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				with
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme,
				via <a href="https://netlify.com/">Netlify</a>. &nbsp;
				<a href="https://github.com/paul-hammant/tbd/edit/master/content//_index.md">Contribute to this page</a>
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="https://trunkbaseddevelopment.com/tags/" title="Tags">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Tags
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>



			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/trunkbaseddevelopment.com\/';
      var repo_id  = 'paul-hammant\/tbd';
    
    </script>

    <script src="https://trunkbaseddevelopment.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }

      var showHideRefs = document.getElementById("showHideRefs");
      var refsElsewhereH1;
      var refsTable;
      if (showHideRefs) {
          refsElsewhereH1 = document.getElementById("references-elsewhere");
      }
      if (showHideRefs) {
          refsTable = refsElsewhereH1.nextElementSibling.nextElementSibling;
          hideRefs();
      }

      function hideRefs() {
          refsTable.style.display = "none";
          showHideRefs.innerHTML = "show references";
      }

      function toggleRefs() {
          if(refsTable.style.display == "block") {
              hideRefs();
          }
          else {
              refsTable.style.display = "block";
              showHideRefs.innerHTML = "hide references";
          }
      }


    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-24415524-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

